{% extends 'base.html' %}

{% block content %}
<div class="card">
  <div class="card-header">
    CMS Users <a class="btn btn-success" href="/user_add">Add New User</a>
  </div>
  <div class="card-body">
    <table class="table table-striped" id="userTable">
      <thead>
        <tr>
          <th>ID</a></th>
          <th>Name</a></th>
          <th>Email</a></th>
          <th>Mobile</a></th>
          <th>Username</a></th>
          <th>Actions</a></th>
        </tr>
      </thead>
      <tbody>
        {% for user in users %}
        <tr>
          <td>{{user.id}}</td>
          <td>{{user.name}}</td>
          <td>{{user.email}}</td>
          <td>{{user.mobile}}</td>
          <td>{{user.username}}</td>
          <td>
            <a href="/user_update?id={{user.id}}"><i class="bi bi-pencil-square text-info"></i></a>
            <span class="me-4"></span>
            <a href="/user_delete?id={{user.id}}"
              onclick="return confirm('Are you sure you want to delete this user?');" data-toggle="modal"><i
                class="bi bi-trash text-danger"></i></a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>

  </div>
</div>
{% endblock %}

{% block footer %}
<script>
  $('#userTable').DataTable({
    responsive: true
  });

</script>
{% endblock %}